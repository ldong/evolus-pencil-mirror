<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=ISO-8859-1"
      http-equiv="Content-Type">
    <title>Drawing resizable shape</title>
    <meta name="order" content="04" />
  </head>
  <body>
    <h2>Drawing resizable shape</h2>
    <p> Most Pencil shapes can be scaled. Pencil use Dimension property
      type to set shape size through Box behaviour. Dimension property
      type will provide a box can be resized width and height. The box
      size change will apply to shape size. </p>
    <p> The sample in this tutorial is a resize rectangle base on $box </p>
<pre name="code" class="xml"><![CDATA[
<Shape id="RoundedRect" displayName="Rectangle" icon="...">
  <Properties>
    <PropertyGroup>
      <Property name="box" type="Dimension">200,80</Property>
    </PropertyGroup>
    <PropertyGroup name="Background">
      <Property name="fillColor" displayName="Background Color"
                type="Color">#4388CCff</Property>
    </PropertyGroup>
    <PropertyGroup name="Border">
      <Property name="strokeColor" displayName="Line Color"
                type="Color">#1B3280ff</Property>
      <Property name="strokeStyle" displayName="Line Style"
                type="StrokeStyle">2|</Property>
    </PropertyGroup>
  </Properties>
  <Behaviors>
    <For ref="rrRect">
      <Box>$box</Box>
      <Fill>$fillColor</Fill>
      <StrokeColor>$strokeColor</StrokeColor>
      <StrokeStyle>$strokeStyle</StrokeStyle>
    </For>
  </Behaviors>
  <p:Content xmlns:p="http://www.evolus.vn/Namespace/Pencil"
             xmlns="http://www.w3.org/2000/svg">
    <rect id="rrRect" x="0" y="0" />
  </p:Content>
</Shape>
]]></pre>
    <p> The rectangle have width and height properties. Set
      &lt;Box&gt;$box&lt;/Box&gt;, the rectangle width &amp; height base
      on $box width &amp; height. Moreover, the rectangle size can be
      changed on canvas directly or on toolbar. </p>
    <h3>Add rounded corner:</h3>
    <p> Retangle have rounded corner. Pencil also supports Radius
      behaviour to make the resized rounded corner. </p>
<pre name="code" class="xml"><![CDATA[
<PropertyGroup name="Handles">
  <Property name="radius"
            displayName="Corner Radius"
            type="Handle"
            p:lockY="true" p:minX="0" p:maxX="$box.w / 2">0,0</Property>
</PropertyGroup>

<Behaviors>
  ...
  <Radius>
    <Arg>$radius.x</Arg>
    <Arg>$radius.x</Arg>
  </Radius>
  ...
</Behaviors>
]]></pre>
    
<p> In previous sample, Dimension type is used for drawing resizable
      shapes. But Dimension type is assigned to Box behavior only in
      case objects have width and height properties. So with other
      objects do not have width and height properties, what should do.
      Pencil also supports a Behavior that can be used for both kind of
      objects. </p>
      
<pre name="code" class="xml"><![CDATA[
<Shape id="ms-oval" displayName="Oval" icon="Icons/oval.png">
  <Properties>
    <PropertyGroup>
      <Property name="box" displayName="Box" type="Dimension">100,80</Property>
    </PropertyGroup>
    <PropertyGroup name="Background">
      <Property name="fillColor" displayName="Background Color"
                type="Color">#4388CCff</Property>
    </PropertyGroup>
    <PropertyGroup name="Border">
      <Property name="strokeColor" displayName="Line Color"
                type="Color">#1B3280ff</Property>
      <Property name="strokeStyle" displayName="Line Style"
                type="StrokeStyle">2|</Property>
    </PropertyGroup>
  </Properties>
  <Behaviors>
    <For ref="ellipse">
      <StrokeColor>$strokeColor</StrokeColor>
      <StrokeStyle>$strokeStyle</StrokeStyle>
      <Fill>$fillColor</Fill>
      <Attr>
        <Arg>"cx"</Arg>
        <Arg>$box.w / 2</Arg>
      </Attr>
      <Attr>
        <Arg>"cy"</Arg>
        <Arg>$box.h / 2</Arg>
      </Attr>
      <Attr>
        <Arg>"rx"</Arg>
        <Arg>$box.w / 2</Arg>
      </Attr>
      <Attr>
        <Arg>"ry"</Arg>
        <Arg>$box.h / 2</Arg>
      </Attr>
    </For>
  </Behaviors>
  <p:Content xmlns:p="http://www.evolus.vn/Namespace/Pencil"
             xmlns="http://www.w3.org/2000/svg">
    <ellipse id="ellipse" />
  </p:Content>
</Shape>
]]></pre>

    <p> &lt;Attr&gt;&lt;/Attr&gt; is used for assigning all object
      properties value. </p>
<pre name="code" class="xml"><![CDATA[
<Attr>
  <Arg>name</Arg>
  <Arg>value</Arg>
  <Arg>namespace</Arg>
</Attr>
]]></pre>
    <p> <i><span>name: property namespaces</span></i> </p>
    <p> <i><span>value: property value</span></i> </p>
    <p> This ellipse's cx, cy, rx, ry are assigned base on $box so the
      ellipse size will base on the box size now. Furthermore,
      &lt;Attr&gt;&lt;/Attr&gt; can be used for all object properties. </p>
    <p> <br>
    </p>
    <p> In previous sample, Attr behavior can also be used instead of
      &lt;Box&gt;$box&lt;/Box&gt; for rectangle. </p>
    
<pre name="code" class="xml"><![CDATA[
<Attr>
  <Arg>"width"</Arg>
  <Arg>$box.w</Arg>
</Attr>
<Attr>
  <Arg>"height"</Arg>
  <Arg>$box.h</Arg>
</Attr>
]]></pre>

  </body>
</html>
